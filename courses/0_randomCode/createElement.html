<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <ul id='todos'></ul>
    <form>
      <input name="todo" type="text" required>
      <input type="submit" value="Add Todo">
    </form>
  </body>

  <script type="text/javascript">
    const form = document.querySelector('form');
    const input = document.querySelector("[name='todo']");
    const todoList = document.getElementById('todos');

    //localStorage.clear();

    const existingTodos = JSON.parse(localStorage.getItem('todos')) || [];

    const todoData = [];

    existingTodos.forEach((todo) => {
      addTodo(todo);
    });

    function addTodo (todoText) {
      todoData.push(todoText);
      const li = document.createElement('li');
      li.innerHTML = todoText;
      todoList.appendChild(li);
      localStorage.setItem('todos', JSON.stringify(todoData));
      console.log(localStorage);
    }

    form.onsubmit = (event) => {
      event.preventDefault();
      addTodo(input.value);
    }

  </script>
</html>
